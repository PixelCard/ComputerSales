@model ComputerSales.Application.UseCaseDTO.Category_DTO.CategoryInput
<script src="https://cdn.tailwindcss.com"></script>
@{
    ViewData["Title"] = "Edit Category";
    // Lấy id từ route vì action GET Edit trả về CategoryInput (không có id)
    var id = Convert.ToInt64(ViewContext.RouteData.Values["id"]);
}

<div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
    <div class="mb-6">
        <h1 class="text-2xl font-semibold text-gray-900">Cập nhật Category</h1>
        <p class="text-sm text-gray-500 mt-1">Chỉnh sửa tên danh mục và lưu thay đổi.</p>
    </div>

    @if (TempData["Error"] != null)
    {
        <div class="mb-4 rounded-md bg-rose-50 p-4 border border-rose-200 text-rose-800">
            @TempData["Error"]
        </div>
    }

    <form asp-area="Admin" asp-controller="Category" asp-action="Edit" asp-route-id="@id" method="post" class="space-y-6">
        @Html.AntiForgeryToken()
        <div asp-validation-summary="ModelOnly" class="text-sm text-rose-700"></div>

        <div>
            <label asp-for="name" class="block text-sm font-medium text-gray-700">Tên danh mục</label>
            <input asp-for="name"
                   class="mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500" />
            <span asp-validation-for="name" class="mt-1 block text-sm text-rose-600"></span>
        </div>

        <div class="flex items-center gap-3">
            <button type="submit"
                    class="inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2">
                Lưu thay đổi
            </button>
            <a asp-area="Admin" asp-controller="Category" asp-action="Details" asp-route-id="@id"
               class="inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">
                Hủy
            </a>
        </div>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
